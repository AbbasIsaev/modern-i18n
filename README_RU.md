# modern-i18n

Modern-i18n ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (i18n) –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö –Ω–∞ Python.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```shell scipt
pip install modern-i18n
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–∏–º–µ—Ä —Ç–∏–ø–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `modern-i18n`:

```
project/
‚îú‚îÄ‚îÄ i18n/                # üìÅ –ú–æ–¥—É–ª—å –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ config.py        # üìÑ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª: —è–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø—É—Ç—å –∫ –ø–µ—Ä–µ–≤–æ–¥–∞–º –∏ —Ç.–¥.
‚îÇ
‚îú‚îÄ‚îÄ locale/              # üìÅ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ (–ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è–º–∏)
‚îÇ   ‚îú‚îÄ‚îÄ en/              # üìÅ –ê–Ω–≥–ª–∏–π—Å–∫–∞—è –ª–æ–∫–∞–ª—å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ translation.json  # üìÑ –§–∞–π–ª —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ ru/              # üìÅ –†—É—Å—Å–∫–∞—è –ª–æ–∫–∞–ª—å
‚îÇ       ‚îî‚îÄ‚îÄ translation.json  # üìÑ –§–∞–π–ª —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –Ω–∞ —Ä—É—Å—Å–∫–∏–π
‚îÇ
‚îî‚îÄ‚îÄ example.py           # üìÑ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `i18n/config.py`. –ü—Ä–∏–º–µ—Ä –±–∞–∑–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```python
import os
from pathlib import Path

from modern_i18n.i18n import I18n

project_root = Path(__file__).resolve().parent.parent
LOCALE_PATH = os.path.join(project_root, 'locale')

config = {
    'locale_path': LOCALE_PATH,  # –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
    'locales': ['ru', 'en'],  # –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —è–∑—ã–∫–æ–≤
    'default_locale': 'ru',  # –Ø–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    'default_encoding': 'UTF-8'  # –ö–æ–¥–∏—Ä–æ–≤–∫–∞ –¥–ª—è —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'UTF-8'
}

i18n = I18n(config)
t = i18n.translate
```

- –í —Ñ–∞–π–ª–µ `i18n/config.py` –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —è–∑—ã–∫–æ–≤, —è–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø—É—Ç—å –∫
  –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏.
- –í—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –≤–Ω—É—Ç—Ä–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `locale`, –≥–¥–µ –∫–∞–∂–¥–∞—è –ª–æ–∫–∞–ª—å –∏–º–µ–µ—Ç —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –ø–∞–ø–∫—É.

### –ü—Ä–∏–º–µ—Ä—ã —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ `translation.json`

–§–∞–π–ª—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON —Ö—Ä–∞–Ω—è—Ç –∫–ª—é—á–∏-–∑–Ω–∞—á–µ–Ω–∏—è, –≥–¥–µ **–∫–ª—é—á** ‚Äî —ç—Ç–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Ñ—Ä–∞–∑–∞, –∞ **–∑–Ω–∞—á–µ–Ω–∏–µ** ‚Äî –µ—ë –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –Ω—É–∂–Ω—ã–π
—è–∑—ã–∫.

`locale/en/translation.json`:

```json
{
  "–ü—Ä–∏–≤–µ—Ç": "Hello!",
  "–ò—Ç–æ–≥–æ {a}+{b}={total}": "Total {a}+{b}={total}."
}
```

`locale/ru/translation.json`:

```json
{
  "–ü—Ä–∏–≤–µ—Ç": "–ü—Ä–∏–≤–µ—Ç!",
  "–ò—Ç–æ–≥–æ {a}+{b}={total}": "–ò—Ç–æ–≥–æ {a}+{b}={total}."
}
```

> ‚ö†Ô∏è –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –≤–æ –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤—ã—Ö —Ñ–∞–π–ª–∞—Ö, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å
> –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏–º–µ—Ä –±–∞–∑–æ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ `t`:

```python
from i18n.config import t

print(t('–ü—Ä–∏–≤–µ—Ç'))  # -> –ü—Ä–∏–≤–µ—Ç!
# –ü–µ—Ä–µ–≤–æ–¥ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ª–æ–∫–∞–ª–∏
print(t('–ü—Ä–∏–≤–µ—Ç', locale='en'))  # -> Hello!
# –ü–µ—Ä–µ–≤–æ–¥ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
print(t('–ò—Ç–æ–≥–æ {a}+{b}={total}', a=5, b=10, total=15))  # -> –ò—Ç–æ–≥–æ 5+10=15.
print(t('–ò—Ç–æ–≥–æ {a}+{b}={total}', locale='en', a=5, b=10, total=15))  # -> Total 5+10=15.
print(t('–ö–ª—é—á –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç'))  # Warning -> –ö–ª—é—á –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
```